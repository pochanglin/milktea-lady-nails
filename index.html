<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MILKTEA.LADY_ NAIL | é ç´„æœå‹™ç³»çµ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #E5DCD3;
            font-family: sans-serif;
            color: #4A3B32;
            margin: 0;
            -webkit-font-smoothing: antialiased;
        }

        .font-serif-custom {
            font-family: 'Noto Serif TC', serif;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        details>summary {
            list-style: none;
        }

        details>summary::-webkit-details-marker {
            display: none;
        }

        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(0.5);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // ç©©å®šç‰ˆåœ–æ¨™å…ƒä»¶ï¼šåŠ å…¥ key ä¸¦é˜²æ­¢å¤–éƒ¨è…³æœ¬å¹²æ“¾ React ç¯€é»
        const LucideIcon = ({ name, size = 16, className = "" }) => {
            useEffect(() => {
                if (window.lucide) { window.lucide.createIcons(); }
            }, [name]);
            return (
                <span key={name} className={`inline-flex items-center justify-center ${className}`}>
                    <i data-lucide={name} style={{ width: size, height: size }}></i>
                </span>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('rules');
            const [style, setStyle] = useState(null);
            const [removal, setRemoval] = useState(null);
            const [extensionCount, setExtensionCount] = useState(0);
            const [repairCount, setRepairCount] = useState(0);
            const [addOns, setAddOns] = useState({ catEye: 0, mirror: 0, french: 0, handPaint: 0 });
            const [discounts, setDiscounts] = useState({ customerBirthday: false });
            const [booking, setBooking] = useState({ name: '', date: '', time: '' });
            const [showSummary, setShowSummary] = useState(false);
            const [copied, setCopied] = useState(false);
            const [agreed, setAgreed] = useState(false);

            const prices = {
                styles: [
                    { id: 'basic', name: 'å–®è‰²', price: 900 },
                    { id: 'cat-eye-full', name: 'è²“çœ¼ / é¡é¢', price: 1100 },
                    { id: 'random', name: 'ä¸æŒ‘æ¬¾', price: 1200 },
                    { id: 'design', name: 'è¨­è¨ˆæ¬¾', price: 1300 },
                ],
                removal: [
                    { id: 'store-redo', name: 'æœ¬åº—å¸ç”²çºŒä½œ', price: 200 },
                    { id: 'other-redo', name: 'ä»–åº—å¸ç”²çºŒä½œ', price: 300 },
                    { id: 'only-removal', name: 'ç´”å¸ç”²', price: 400 },
                ]
            };

            const availableTimes = useMemo(() => {
                if (!booking.date) return [];
                const day = new Date(booking.date).getDay();
                if (day >= 1 && day <= 4) return ["19:00"];
                if (day === 6) return ["13:00", "17:00", "21:00"];
                if (day === 0) return ["13:00", "17:00"];
                if (day === 5) return ["CLOSED"];
                return [];
            }, [booking.date]);

            const selectedStyleObj = useMemo(() => prices.styles.find(s => s.id === style), [style]);
            const selectedRemovalObj = useMemo(() => prices.removal.find(r => r.id === removal), [removal]);
            const addOnTotal = useMemo(() => (addOns.catEye * 30) + (addOns.mirror * 30) + (addOns.french * 50) + (addOns.handPaint * 80), [addOns]);
            const discountTotal = useMemo(() => (discounts.customerBirthday ? 100 : 0), [discounts]);
            const totalPrice = useMemo(() => Math.max(0, (selectedStyleObj?.price || 0) + (selectedRemovalObj?.price || 0) + (extensionCount * 150) + (repairCount * 100) + addOnTotal - discountTotal), [selectedStyleObj, selectedRemovalObj, extensionCount, repairCount, addOnTotal, discountTotal]);

            const copyText = () => {
                const addOnDisplay = addOnTotal > 0 ? `${addOnTotal}` : "0";

                return `ğ™¼ğ™¸ğ™»ğ™ºğšƒğ™´ğ™°.ğ™»ğ™°ğ™³ğšˆ_ ğ™½ğ™°ğ™¸ğ™» é ç´„æ˜ç´°\n` +
                    `â”â”â”â”â”â”â”â”â”â”â”â”â”\n` +
                    `ğŸ‘¤ å§“åï¼š${booking.name || 'æœªå¡«'}\n` +
                    `ğŸ“… æ—¥æœŸï¼š${booking.date || 'æœªå¡«'}\n` +
                    `â° æ™‚æ®µï¼š${booking.time || 'æœªå¡«'}\n` +
                    `â”â”â”â”â”â”â”â”â”â”â”â”â”\n` +
                    (selectedStyleObj ? `ğŸ‚ æ¬¾å¼ï¼š${selectedStyleObj.name} $${selectedStyleObj.price}\n` : "") +
                    (selectedRemovalObj ? `ğŸ§¼ å¸ç”²ï¼š${selectedRemovalObj.name} $${selectedRemovalObj.price}\n` : "") +
                    (extensionCount > 0 ? `ğŸ’… å»¶ç”²ï¼š${extensionCount}æŒ‡ $${extensionCount * 150}\n` : "") +
                    (repairCount > 0 ? `ğŸ©¹ è£œç”²ï¼š${repairCount}æŒ‡ $${repairCount * 100}\n` : "") +
                    `âœ¨ åŠ è³¼ï¼š$${addOnDisplay}\n` +
                    `ğŸ‚ å£½æ˜Ÿï¼š${discounts.customerBirthday ? 'æ˜¯' : 'å¦'}\n` +
                    `â”â”â”â”â”â”â”â”â”â”â”â”â”\n` +
                    `âœ¨ é è¨ˆç¸½è¨ˆï¼šNT$ ${totalPrice}\n\n`;
            }

            const copyToClipboard = async () => {
                const text = copyText();

                // åˆ¤æ–·ç€è¦½å™¨æ˜¯å¦æ”¯æ´ Web Share API
                if (navigator.share) {
                    try {
                        await navigator.share({
                            title: 'MILKTEA.LADY é ç´„æ˜ç´°',
                            text: text
                        });
                        // åˆ†äº«æˆåŠŸ
                    } catch (err) {
                        // ä½¿ç”¨è€…å–æ¶ˆåˆ†äº«æˆ–ç™¼ç”ŸéŒ¯èª¤æ™‚ï¼Œä¸é€²è¡Œä»»ä½•æ“ä½œæˆ–é™ç´šè™•ç†
                        console.log('å–æ¶ˆåˆ†äº«æˆ–ä¸æ”¯æ´', err);
                    }
                } else {
                    // é™ç´šè™•ç†ï¼šä¸æ”¯æ´åˆ†äº« API æ™‚ï¼Œä½¿ç”¨åŸæœ¬çš„è¤‡è£½åŠŸèƒ½
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                }
            };

            return (
                <div className="min-h-screen flex flex-col items-center p-4 bg-[#E5DCD3] pb-12">
                    <div className="w-full max-w-md bg-[#F2EDE7] rounded-[2.5rem] shadow-2xl overflow-hidden border border-white/40">
                        {/* Header Section */}
                        <div className="bg-[#8E735B] pt-12 text-center text-white">
                            <h1 className="text-[19px] font-serif-custom tracking-[0.22em] mb-2 uppercase text-[#EBD9D9]">MILKTEA.LADY_ NAIL</h1>
                            <p className="text-[10px] tracking-[0.4em] opacity-60 italic uppercase mb-8">Studio Menu</p>

                            {/* Tab åˆ‡æ›ï¼šé¸ä¸­æ·ºè‰²/æ²’é¸æ·±è‰² */}
                            <div className="flex px-10 gap-2">
                                <button
                                    onClick={() => setActiveTab('rules')}
                                    className={`flex-1 py-3 rounded-t-2xl text-[12px] tracking-widest font-bold transition-all duration-300 
                                    ${activeTab === 'rules'
                                            ? 'bg-[#F2EDE7] text-[#8E735B]'
                                            : 'bg-[#6B5A4D] text-[#E5DCD3] opacity-80'}`}
                                >
                                    é ç´„é ˆçŸ¥
                                </button>
                                <button
                                    onClick={() => setActiveTab('price')}
                                    className={`flex-1 py-3 rounded-t-2xl text-[12px] tracking-widest font-bold transition-all duration-300 
                                    ${activeTab === 'price'
                                            ? 'bg-[#F2EDE7] text-[#8E735B]'
                                            : 'bg-[#6B5A4D] text-[#E5DCD3] opacity-80'}`}
                                >
                                    åƒ¹ç›®é ç´„
                                </button>
                            </div>
                        </div>

                        {/* ç¬¬ä¸€é ï¼šé ç´„é ˆçŸ¥ */}
                        {activeTab === 'rules' && (
                            <div className="p-8 space-y-8 animate-in fade-in duration-500">
                                <section className="space-y-4">
                                    <h2 className="text-[14px] font-bold text-[#8E735B] flex items-center gap-2 border-b border-[#D4A5A5]/30 pb-2 italic">
                                        <LucideIcon name="check-square" /> é ç´„æµç¨‹
                                    </h2>
                                    <div className="grid grid-cols-4 gap-2 text-center text-[10px] font-bold text-[#6B5A4D]">
                                        <div className="space-y-1"><div className="bg-white/60 p-2 rounded-lg italic">1.é–±è®€</div><span>çœ‹å®Œé ˆçŸ¥</span></div>
                                        <div className="space-y-1"><div className="bg-white/60 p-2 rounded-lg italic">2.è¨ˆåƒ¹</div><span>ä¼°ç®—ç¸½é¡</span></div>
                                        <div className="space-y-1"><div className="bg-white/60 p-2 rounded-lg italic">3.åŠ è³´</div><span>å›å‚³æ˜ç´°</span></div>
                                        <div className="space-y-1"><div className="bg-white/60 p-2 rounded-lg italic">4.ä»˜è¨‚</div><span>é ç´„æˆåŠŸ</span></div>
                                    </div>
                                </section>

                                <section className="space-y-4">
                                    <h2 className="text-[14px] font-bold text-[#8E735B] flex items-center gap-2 border-b border-[#D4A5A5]/30 pb-2">
                                        <LucideIcon name="info" /> è¨‚é‡‘æ”¿ç­– Policy
                                    </h2>
                                    <div className="bg-white/50 p-5 rounded-2xl text-[13px] leading-relaxed space-y-3">
                                        <p className="font-bold text-[#A66E6E]">æ–°å®¢é ç´„éœ€å…ˆä»˜è¨‚é‡‘å”· ğŸ’… <br />è¨‚é‡‘ç•¶å¤©å¯å…¨é¡æŠ˜æŠµ</p>
                                        <div className="w-full h-[1px] bg-[#D4A5A5]/20"></div>
                                        <ul className="space-y-2 text-[#6B5A4D]">
                                            <li>â€¢ 3 å¤©å‰å–æ¶ˆå¯ä¿ç•™ä¸€æ¬¡</li>
                                            <li className="font-bold">â€¢ 2 å¤©å…§å–æ¶ˆæˆ–æœªåˆ°è¨‚é‡‘ä¸é€€</li>
                                            <li>â€¢ è‹¥æ˜¯é—†å¨˜é€™é‚Šçš„å•é¡Œï¼Œè¨‚é‡‘æœƒç„¡æ¢ä»¶å…¨é¡é€€é‚„ ğŸ¤</li>
                                        </ul>
                                    </div>
                                </section>

                                <section className="space-y-4">
                                    <h2 className="text-[14px] font-bold text-[#8E735B] flex items-center gap-2 border-b border-[#D4A5A5]/30 pb-2">
                                        <LucideIcon name="alert-circle" /> ç‰¹æ®Šæƒ…æ³è™•ç†
                                    </h2>
                                    <div className="space-y-4">
                                        <div className="bg-[#EAE2D9]/60 p-4 rounded-xl">
                                            <p className="text-[11px] font-bold text-[#A66E6E] mb-2">â–«ï¸ å¯å”åŠ©å½ˆæ€§è™•ç†ï¼ˆéœ€ç¬¬ä¸€æ™‚é–“å‘ŠçŸ¥ï¼‰</p>
                                            <p className="text-[12px] text-[#6B5A4D] leading-relaxed italic">èº«é«”çªç™¼ä¸é©ã€å®¶åº­ç·Šæ€¥ç‹€æ³ã€å¤©æ°£æˆ–äº¤é€šçªç™¼ç‹€æ³ï¼ˆå¦‚é¢±é¢¨ã€é‡å¤§äº‹æ•…ï¼‰ã€‚</p>
                                            <p className="mt-2 text-[11px] font-black text-[#8E735B]">â¡ï¸ å¯ä¿ç•™è¨‚é‡‘ä¸€æ¬¡ï¼Œå¯æ”¹æœŸé€€è²»</p>
                                        </div>
                                        <div className="bg-white/30 p-4 rounded-xl border border-red-200/50">
                                            <p className="text-[11px] font-bold text-red-700/60 mb-2">â–«ï¸ ç„¡æ³•è¦–ç‚ºç‰¹æ®Šæƒ…æ³</p>
                                            <p className="text-[12px] text-[#6B5A4D] leading-relaxed">å¿˜è¨˜æ™‚é–“ã€è‡¨æ™‚æœ‰å…¶ä»–è¡Œç¨‹ã€ç¡éé ­ã€ç•¶æ—¥æ‰å‘ŠçŸ¥ç„¡æ³•å‰ä¾†ã€æœªåˆ°ï¼ˆNo-showï¼‰ã€‚</p>
                                            <p className="mt-2 text-[11px] font-black text-red-700/60">â¡ï¸ è¨‚é‡‘æ•ä¸é€€é‚„</p>
                                        </div>
                                    </div>
                                </section>

                                <section className="space-y-4">
                                    <h2 className="text-[14px] font-bold text-[#8E735B] flex items-center gap-2 border-b border-[#D4A5A5]/30 pb-2">
                                        <LucideIcon name="help-circle" /> å¸¸è¦‹å•é¡Œ FAQ
                                    </h2>
                                    <div className="space-y-2">
                                        <details className="group bg-white/40 rounded-xl overflow-hidden border border-white/40">
                                            <summary className="p-4 text-[13px] font-bold cursor-pointer flex justify-between items-center select-none">
                                                1. ç‚ºä»€éº¼éœ€é å…ˆæ”¯ä»˜è¨‚é‡‘ï¼Ÿ
                                                <LucideIcon name="chevron-down" size={14} className="group-open:rotate-180 transition-transform" />
                                            </summary>
                                            <div className="px-4 pb-4 text-[12px] leading-relaxed text-[#6B5A4D]">
                                                å› ç‚ºç¾ç”²æ˜¯ã€Œä¸€å°ä¸€ä¿ç•™æ™‚æ®µã€çš„æœå‹™ï¼Œä¸€æ—¦é ç´„å®Œæˆå°±æœƒç‚ºä½ ä¿ç•™é‚£æ®µæ™‚é–“ ğŸ’… ç‚ºäº†é¿å…è‡¨æ™‚å–æ¶ˆé€ æˆç©ºæª”ï¼Œæœƒå…ˆæ”¶å–è¨‚é‡‘ã€‚ç•¶å¤©æœƒå…¨é¡æŠ˜æŠµï¼Œè«‹æ”¾å¿ƒå”· ğŸ¤
                                            </div>
                                        </details>
                                        <div className="p-4 text-center">
                                            <p className="text-[12px] text-[#8E735B] font-bold italic">ç¬¬ä¸€æ¬¡ä¾†æœ‰ä»»ä½•å•é¡Œéƒ½å¯ä»¥å•æˆ‘</p>
                                            <p className="text-[11px] mt-1 opacity-60 uppercase tracking-widest">Pay via: Cash / Transfer</p>
                                        </div>
                                    </div>
                                </section>

                                <button onClick={() => setActiveTab('price')} className="w-full py-4 bg-[#8E735B] text-white rounded-full font-bold tracking-[0.2em] text-[12px] shadow-lg">å‰å¾€é ç´„è¨ˆåƒ¹</button>
                            </div>
                        )}

                        {/* ç¬¬äºŒé ï¼šåƒ¹ç›®é ç´„ (åŸå§‹èˆŠé …ç›®å®Œå…¨ä¿ç•™) */}
                        {activeTab === 'price' && (
                            <div className="p-8 space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-500">
                                <section>
                                    <h2 className="text-[12px] font-bold tracking-widest text-[#6B5A4D] mb-4 flex items-center justify-between border-b border-[#D4A5A5]/30 pb-2">
                                        I. æ¬¾å¼é¸æ“‡ STYLE <LucideIcon name="heart" className="text-[#A66E6E]" />
                                    </h2>
                                    <div className="grid grid-cols-2 gap-3">
                                        {prices.styles.map(item => (
                                            <button key={item.id} onClick={() => setStyle(item.id)} className={`p-4 rounded-2xl border transition-all ${style === item.id ? 'bg-[#EBD9D9] border-[#A66E6E]' : 'bg-[#EAE2D9] border-transparent opacity-80'}`}>
                                                <div className="text-[10px] font-bold mb-1">{item.name}</div>
                                                <div className="text-sm font-black text-[#4A3B32]">${item.price}</div>
                                            </button>
                                        ))}
                                    </div>
                                </section>

                                <section>
                                    <h2 className="text-[12px] font-bold tracking-widest text-[#6B5A4D] mb-4 flex items-center justify-between border-b border-[#D4A5A5]/30 pb-2">
                                        II. å¸ç”²æœå‹™ REMOVAL <LucideIcon name="eraser" className="text-[#A66E6E]" />
                                    </h2>
                                    <div className="space-y-2">
                                        {prices.removal.map(item => (
                                            <button key={item.id} onClick={() => setRemoval(item.id)} className={`w-full px-5 py-3 rounded-xl border flex justify-between items-center transition-all ${removal === item.id ? 'bg-[#EBD9D9] border-[#A66E6E]' : 'bg-[#EAE2D9]/60 border-transparent opacity-80'}`}>
                                                <span className="text-[11px] font-bold">{item.name}</span>
                                                <span className="text-sm font-bold">${item.price}</span>
                                            </button>
                                        ))}
                                    </div>
                                </section>

                                {/* åŠ è³¼ç´°é … (åŸå§‹ç¨‹å¼ç¢¼ä¿ç•™) */}
                                <section className="bg-[#EAE2D9]/40 p-5 rounded-[2rem] border border-[#D4A5A5]/10 space-y-4">
                                    <h2 className="text-[11px] font-bold text-[#8C4A4A] flex justify-between items-center px-1">
                                        ADD-ONS åŠ è³¼ç´°é … <LucideIcon name="sparkles" size={14} />
                                    </h2>
                                    {[
                                        { key: 'catEye', label: 'è²“çœ¼', price: 30 },
                                        { key: 'mirror', label: 'é¡é¢', price: 30 },
                                        { key: 'french', label: 'æ³•å¼', price: 50 },
                                        { key: 'handPaint', label: 'æ‰‹ç¹ª', price: 80 }
                                    ].map(item => (
                                        <div key={item.key} className="flex items-center justify-between bg-white/40 p-2 pl-4 rounded-full border border-white/20">
                                            <div className="flex flex-col">
                                                <span className="text-[11px] font-bold">{item.label}</span>
                                                <span className="text-[9px] text-[#A66E6E] font-bold">${item.price}/æŒ‡</span>
                                            </div>
                                            <div className="flex items-center gap-3">
                                                <button onClick={() => setAddOns(p => ({ ...p, [item.key]: Math.max(0, p[item.key] - 1) }))} className="w-8 h-8 bg-white rounded-full shadow-sm flex items-center justify-center font-bold">-</button>
                                                <span className="text-sm font-black w-4 text-center">{addOns[item.key]}</span>
                                                <button onClick={() => setAddOns(p => ({ ...p, [item.key]: Math.min(10, p[item.key] + 1) }))} className="w-8 h-8 bg-white rounded-full shadow-sm flex items-center justify-center font-bold">+</button>
                                            </div>
                                        </div>
                                    ))}
                                </section>

                                <section>
                                    <h2 className="text-[12px] font-bold tracking-widest text-[#6B5A4D] mb-4 flex items-center justify-between border-b border-[#D4A5A5]/30 pb-2">
                                        IV. å»¶ç”²èˆ‡è£œç”² SERVICE <LucideIcon name="shield-check" className="text-[#A66E6E]" />
                                    </h2>
                                    <div className="space-y-3">
                                        <div className="bg-[#EAE2D9]/80 px-6 py-3 rounded-2xl flex items-center justify-between border border-[#D4A5A5]/10">
                                            <span className="text-[11px] font-bold">è£œç”² <span className="text-[#A66E6E] ml-1">$100/æŒ‡</span></span>
                                            <div className="flex items-center gap-4">
                                                <button onClick={() => setRepairCount(Math.max(0, repairCount - 1))} className="text-[#A66E6E] font-bold p-1">-</button>
                                                <span className="text-sm font-black w-4 text-center">{repairCount}</span>
                                                <button onClick={() => setRepairCount(Math.min(10, repairCount + 1))} className="text-[#A66E6E] font-bold p-1">+</button>
                                            </div>
                                        </div>
                                        <div className="bg-[#EAE2D9]/80 px-6 py-3 rounded-2xl flex items-center justify-between border border-[#D4A5A5]/10">
                                            <span className="text-[11px] font-bold">å»¶ç”² <span className="text-[#A66E6E] ml-1">$150/æŒ‡</span></span>
                                            <div className="flex items-center gap-4">
                                                <button onClick={() => setExtensionCount(Math.max(0, extensionCount - 1))} className="text-[#A66E6E] font-bold p-1">-</button>
                                                <span className="text-sm font-black w-4 text-center">{extensionCount}</span>
                                                <button onClick={() => setExtensionCount(Math.min(10, extensionCount + 1))} className="text-[#A66E6E] font-bold p-1">+</button>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                <section className="bg-white/40 p-6 rounded-[2rem] border border-[#A66E6E]/20 space-y-4">
                                    <h2 className="text-[12px] font-bold tracking-widest text-[#6B5A4D] mb-2 flex items-center justify-between border-b border-[#D4A5A5]/30 pb-2">
                                        é ç´„æ™‚æ®µ BOOKING <LucideIcon name="calendar" className="text-[#A66E6E]" />
                                    </h2>
                                    <div className="space-y-3">
                                        {/* å§“åè¼¸å…¥æ¡† */}
                                        <input
                                            type="text"
                                            placeholder="é¡§å®¢å§“å"
                                            value={booking.name}
                                            onChange={e => setBooking({ ...booking, name: e.target.value })}
                                            className="w-full h-11 bg-[#EAE2D9]/50 border-none rounded-xl px-4 py-3 text-sm outline-none shadow-inner appearance-none"
                                        />

                                        {/* æ—¥æœŸèˆ‡æ™‚æ®µ */}
                                        <div className="grid grid-cols-2 gap-2">
                                            <div className="relative">
                                                <input
                                                    type="date"
                                                    min={new Date().toLocaleDateString('en-CA')}
                                                    value={booking.date}
                                                    onChange={e => {
                                                        const selected = e.target.value;
                                                        const today = new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString().split("T")[0];
                                                        // Double safety: if they pick a past date, reset to today
                                                        const finalDate = selected < today ? today : selected;
                                                        setBooking({ ...booking, date: finalDate, time: '' });
                                                    }}
                                                    className={`w-full h-11 bg-[#EAE2D9]/50 border-none rounded-xl px-3 text-sm outline-none cursor-pointer appearance-none flex items-center
      /* 1. Hide the browser's default calendar icon */
      [&::-webkit-calendar-picker-indicator]:opacity-0 
      [&::-webkit-calendar-picker-indicator]:absolute 
      [&::-webkit-calendar-picker-indicator]:w-full 
      [&::-webkit-calendar-picker-indicator]:h-full
      /* 2. Hide the default 'yyyy/mm/dd' text while input is empty */
      ${!booking.date ? "text-transparent" : "text-black"}
      /* 3. Show your custom placeholder text */
      ${!booking.date ? "before:content-['é¸æ“‡æ—¥æœŸ'] before:text-gray-400 before:absolute" : ""}
    `}
                                                />

                                                {/* The Custom Icon - Positioned specifically to not overlap text */}
                                                {!booking.date && (
                                                    <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500">
                                                        <LucideIcon name="calendar" size={16} />
                                                    </div>
                                                )}
                                            </div>
                                            <div className="relative">
                                                <select
                                                    disabled={!booking.date || availableTimes[0] === "CLOSED"}
                                                    value={booking.time}
                                                    onChange={e => setBooking({ ...booking, time: e.target.value })}
                                                    className="w-full h-11 bg-[#EAE2D9]/50 border-none rounded-xl px-3 text-sm outline-none appearance-none pr-8"
                                                >
                                                    {!booking.date ? <option>é¸æ“‡æ™‚æ®µ</option> : availableTimes[0] === "CLOSED" ? <option>é€±äº”ä¸é–‹æ”¾</option> : <><option value="">æ™‚æ®µ</option>{availableTimes.map(t => <option key={t} value={t}>{t}</option>)}</>}
                                                </select>
                                                {/* è‡ªå®šç¾©ä¸‹æ‹‰ç®­é ­ï¼Œç¢ºä¿æ‰‹æ©Ÿç«¯ç¾è§€ */}
                                                <div className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none opacity-50">
                                                    <LucideIcon name="chevron-down" size={14} />
                                                </div>
                                            </div>
                                        </div>

                                        {/* å£½æ˜ŸæŒ‰éˆ• */}
                                        <button
                                            onClick={() => setDiscounts(p => ({ ...p, customerBirthday: !p.customerBirthday }))}
                                            className={`w-full h-10 px-4 rounded-xl flex items-center justify-between transition-colors ${discounts.customerBirthday ? 'bg-[#A66E6E] text-white' : 'bg-[#FAF9F7] text-[#6B5A4D]'}`}
                                        >
                                            <span className="text-[10px] font-bold uppercase">ç•¶æœˆå£½æ˜Ÿ (æŠ˜$100)</span>
                                            {discounts.customerBirthday && <LucideIcon name="check" size={14} />}
                                        </button>
                                    </div>
                                </section>

                                {/* ç¢ºèªå‹¾é¸å€å¡Š */}
                                <div
                                    onClick={() => setAgreed(!agreed)}
                                    className="flex items-center justify-center gap-3 cursor-pointer group py-2"
                                >
                                    <div className={`w-5 h-5 rounded-md border-2 flex items-center justify-center transition-all ${agreed ? 'bg-[#8E735B] border-[#8E735B]' : 'border-[#D4A5A5] bg-white'}`}>
                                        {agreed && <LucideIcon name="check" size={14} className="text-white" />}
                                    </div>
                                    <span className={`text-[11px] font-bold tracking-wider ${agreed ? 'text-[#8E735B]' : 'text-[#A66E6E]'}`}>
                                        æˆ‘å·²ç¢ºèªä¸¦åŒæ„ã€Œé ç´„é ˆçŸ¥ã€å…§å®¹
                                    </span>
                                </div>

                                {/* ç¸½è¨ˆæŒ‰éˆ• */}
                                <div className="pb-4">
                                    <button onClick={() => setShowSummary(true)} disabled={!agreed || totalPrice === 0 || !booking.time || booking.time === "CLOSED"}
                                        className={`w-full h-20 rounded-[1.8rem] flex items-center justify-between px-8 transition-all ${!agreed || totalPrice === 0 || !booking.time || booking.time === "CLOSED" ? 'bg-[#D3C7BC] opacity-60' : 'bg-[#6B5A4D] text-white shadow-2xl'}`}>
                                        <div className="text-left">
                                            <p className="text-[9px] opacity-60 font-bold uppercase tracking-widest">Total Price</p>
                                            <p className="text-2xl font-bold">NT$ {totalPrice.toLocaleString()}</p>
                                        </div>
                                        <div className="flex items-center gap-2 text-xs font-bold text-[#D4A5A5]">ç”¢ç”Ÿé ç´„æ˜ç´°<LucideIcon name="chevron-right" /></div>
                                    </button>
                                </div>
                            </div>
                        )}
                        <footer className="py-6 text-center text-[9px] tracking-[0.6em] text-[#8E735B] uppercase font-black opacity-30">Milktea.Lady_ Nail Studio</footer>
                    </div>

                    {/* æ˜ç´°å½ˆçª— */}
                    {showSummary && (
                        <div className="fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-6 z-50">
                            <div className="bg-[#F2EDE7] w-full max-w-xs rounded-[2.5rem] p-8 shadow-2xl text-center relative">
                                <button onClick={() => setShowSummary(false)} className="absolute top-6 right-6 text-[#A66E6E]"><LucideIcon name="x" size={24} /></button>
                                <LucideIcon name="sparkles" className="mx-auto mb-2 text-[#A66E6E]" size={32} />
                                <div className="bg-white/60 p-5 rounded-3xl text-left text-[11px] mb-6 whitespace-pre-wrap leading-relaxed shadow-inner border border-[#D4A5A5]/10">
                                    {copyText() + `å›å‚³ LINE å®Œæˆé ç´„\n` +
                                        `ğ™¼ğ™¸ğ™»ğ™ºğšƒğ™´ğ™°.ğ™»ğ™°ğ™³ğšˆ_ ğ™½ğ™°ğ™¸ğ™»`}
                                </div>
                                <button onClick={copyToClipboard} className={`w-full py-4 rounded-full font-bold text-[11px] transition-all flex items-center justify-center gap-2 shadow-lg ${copied ? 'bg-green-700 text-white' : 'bg-[#A66E6E] text-white'}`}>
                                    {copied ? <LucideIcon name="check" size={16} /> : <LucideIcon name="copy" size={16} />}
                                    {copied ? "å·²è¤‡è£½æ˜ç´°" : "è¤‡è£½å…§å®¹ä¸¦å‚³é€(å›å‚³å®˜æ–¹Line)"}
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>